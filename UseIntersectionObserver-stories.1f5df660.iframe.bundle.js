/*! For license information please see UseIntersectionObserver-stories.1f5df660.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunklmw_ui=self.webpackChunklmw_ui||[]).push([[894],{"./packages/hooks/use-intersection-observer/stories/UseIntersectionObserver.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>UseIntersectionObserver_stories});var react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const observerMap=new Map,RootIds=new WeakMap;let unsupportedValue,rootId=0;function optionsToId(options){return Object.keys(options).sort().filter((key=>void 0!==options[key])).map((key=>`${key}_${"root"===key?function getRootId(root){return root?(RootIds.has(root)||(rootId+=1,RootIds.set(root,rootId.toString())),RootIds.get(root)):"0"}(options.root):options[key]}`)).toString()}function observe(element,callback,options={},fallbackInView=unsupportedValue){if(void 0===window.IntersectionObserver&&void 0!==fallbackInView){const bounds=element.getBoundingClientRect();return callback(fallbackInView,{isIntersecting:fallbackInView,target:element,intersectionRatio:"number"==typeof options.threshold?options.threshold:0,time:0,boundingClientRect:bounds,intersectionRect:bounds,rootBounds:bounds}),()=>{}}const{id,observer,elements}=function createObserver(options){let id=optionsToId(options),instance=observerMap.get(id);if(instance)return instance;const elements=new Map;let thresholds;const observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{const inView=entry.isIntersecting&&thresholds.some((threshold=>entry.intersectionRatio>=threshold));options.trackVisibility&&void 0===entry.isVisible&&(entry.isVisible=inView),elements.get(entry.target)?.forEach((callback=>{callback(inView,entry)}))}))}),options);return thresholds=observer.thresholds||(Array.isArray(options.threshold)?options.threshold:[options.threshold||0]),instance={id,observer,elements},observerMap.set(id,instance),instance}(options);let callbacks=elements.get(element)||[];return elements.has(element)||elements.set(element,callbacks),callbacks.push(callback),observer.observe(element),function unobserve(){callbacks.splice(callbacks.indexOf(callback),1),0===callbacks.length&&(elements.delete(element),observer.unobserve(element)),0===elements.size&&(observer.disconnect(),observerMap.delete(id))}}var jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const UseIntersectionObserver_stories={title:"hooks/useIntersectionObserver",parameters:{controls:{expanded:!0}},argTypes:{threshold:{control:{type:"range",min:0,max:1,step:.05},description:"0 ~ 1의 값을 넣어보세요!"},onChange:{action:"InView",description:"onChange(inView: boolean, entry: IntersectionObserverEntry): void"}},args:{threshold:.5},render:HooksRender};function HooksRender(props){const{ref,inView}=function useIntersectionObserver({threshold,delay,trackVisibility,rootMargin,root,triggerOnce,skip,initialInView,fallbackInView,onChange}={}){const[ref,setRef]=(0,react.useState)(null),callback=(0,react.useRef)(),[state,setState]=(0,react.useState)({inView:!!initialInView,entry:void 0});callback.current=onChange,(0,react.useEffect)((()=>{if(skip||!ref)return;let unobserve;return unobserve=observe(ref,((inView,entry)=>{setState({inView,entry}),callback.current&&callback.current(inView,entry),entry.isIntersecting&&triggerOnce&&unobserve&&(unobserve(),unobserve=void 0)}),{root,rootMargin,threshold,trackVisibility,delay},fallbackInView),()=>{unobserve&&unobserve()}}),[Array.isArray(threshold)?threshold.toString():threshold,ref,root,rootMargin,triggerOnce,skip,trackVisibility,fallbackInView,delay]);const entryTarget=state.entry?.target,previousEntryTarget=(0,react.useRef)();return ref||!entryTarget||triggerOnce||skip||previousEntryTarget.current===entryTarget||(previousEntryTarget.current=entryTarget,setState({inView:!!initialInView,entry:void 0})),{ref:setRef,inView:state.inView,entry:state.entry}}({threshold:props.threshold,onChange:props.onChange});return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{style:{height:"500px",lineHeight:"500px",fontSize:"5rem",textAlign:"center",background:"#1261c4",fontWeight:700},children:"Scroll Down"}),(0,jsx_runtime.jsx)("div",{ref,style:{height:"500px",backgroundColor:inView?"#0061d8":"#c84a31",border:"5px solid #242424",lineHeight:"500px",fontSize:"5rem",fontWeight:700,textAlign:"center",transition:"all 0.5s"},children:inView?"inView":""}),(0,jsx_runtime.jsx)("div",{style:{height:"500px",lineHeight:"500px",fontSize:"5rem",textAlign:"center",background:"#1261c4",fontWeight:700},children:"Scroll Up"})]})}HooksRender.displayName="HooksRender";const Basic={args:{}};Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Basic.parameters?.docs?.source}}};const __namedExportsOrder=["Basic"]},"./node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);